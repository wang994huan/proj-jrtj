"use strict";require(["../../static/conf/config.js"],function(){require(["jquery","sw"],function(s,a){s(".tab-area .cate-item:gt(0)").hover(function(){s(this).css("background-color","#584946")},function(){s(this).css("background-color","#fe6434")}),s(".sort-type li:first").addClass("active"),s(".sort-type li").on("click",function(){s(this).siblings().removeClass("active"),s(this).addClass("active")});new a(".swiper-container",{pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});s(document).scroll(function(){406<s(document).scrollTop()?(s(".tab-area").addClass("fixed"),s(".hori-cate-area").css("display","block")):(s(".tab-area").removeClass("fixed"),s(".hori-cate-area").css("display","none"))});var t=1,i="new";s(function(){s.ajax({url:"http://localhost:8000/index",type:"get",dataType:"json",data:{sort:i,p:t},success:function(i){Array.from(s(".item")).forEach(function(a,t){s(a).children("img").attr("src",i.data[t].img_url),s(a).parent().attr("href","deal/index.html?goodId="+i.data[t].goods_id+"&title="+i.data[t].title+"&href="+i.data[t].click_url+"&src="+i.data[t].img_url+"&desc="+i.data[t].seo_desc+"&yishou="+i.data[t].volume+"&yuanjia="+i.data[t].org_price+"&price="+i.data[t].price),s(a).children(".title").text(i.data[t].rec_desc),s(a).children(".price").text("领券后价 —— "+i.data[t].price)}),Array.from(s(".item1")).forEach(function(a,t){t+=7,s(a).children("img").attr("src",i.data[t].img_url),s(a).parent().attr("href","deal/index.html?goodId="+i.data[t].goods_id+"&title="+i.data[t].title+"&href="+i.data[t].click_url+"&src="+i.data[t].img_url+"&desc="+i.data[t].seo_desc+"&yishou="+i.data[t].volume+"&yuanjia="+i.data[t].org_price+"&price="+i.data[t].price),s(a).children(".title").text(i.data[t].rec_desc),s(a).children(".price").text("领券后价 —— "+i.data[t].price)}),Array.from(s(".item2")).forEach(function(a,t){t+=13,s(a).children("img").attr("src",i.data[t].img_url),s(a).parent().attr("href","deal/index.html?goodId="+i.data[t].goods_id+"&title="+i.data[t].title+"&href="+i.data[t].click_url+"&src="+i.data[t].img_url+"&desc="+i.data[t].seo_desc+"&yishou="+i.data[t].volume+"&yuanjia="+i.data[t].org_price+"&price="+i.data[t].price),s(a).children(".title").text(i.data[t].rec_desc),s(a).children(".price").text("领券后价 —— "+i.data[t].price)});for(var a="",t=0;t<i.data.length;t++){a+=t%5==4?"<div class='zk-item' style='margin:0'>":"<div class='zk-item'>",a+="<a class='fl goods-item' href='deal/index.html?goodId="+i.data[t].goods_id+"&title="+i.data[t].title+"&href="+i.data[t].click_url+"&src="+i.data[t].img_url+"&desc="+i.data[t].seo_desc+"&yishou="+i.data[t].volume+"&yuanjia="+i.data[t].org_price+"&price="+i.data[t].price+"'>",a+="<img class='img-area' src='"+i.data[t].img_url+"'>",a+="<p class='title-area'>","taobao"==i.data[t].shop_type&&(a+="<i class='i_taobao'></i>"),"tmall"==i.data[t].shop_type&&(a+="<i class='i_tmall'></i>"),a+="<span class='post-free'>包邮</span>"+i.data[t].title,a+="</p>",a+="<div class='raw-price-area'>现价:￥"+i.data[t].org_price,a+="<p class='sold fr'>已售"+i.data[t].volume,a+="</div>",a+="<div class='info'>",a+="<div class='price-area'>",a+="<span class='price'>",a+="￥";var e=i.data[t].price.split(".");a+="<em class='number-font'>"+e[0]+"</em>",a+="<em class='decimal'>."+e[1]+"</em>",a+="<i></i>",a+="</span>",a+="</div>",a+="<span class='coupon-click'>券"+parseInt(i.data[t].coup_price)+"元",a+="</span></div></a></div>"}s(".zk-list").append(a)}})}),s(".sort-type li").on("click",function(){Array.from(s(".sort-type").children()).forEach(function(a){s(a).hasClass("active")&&(i=s(a).attr("data-sort"))}),s(".zk-list").children().remove(),s.ajax({url:"http://localhost:8000/index",type:"get",dataType:"json",data:{sort:i,p:1},success:function(a){for(var t="",i=0;i<a.data.length;i++){t+=i%5==4?"<div class='zk-item' style='margin:0'>":"<div class='zk-item'>",t+="<a class='fl goods-item' href='deal/index.html?goodId="+a.data[i].goods_id+"&title="+a.data[i].title+"&href="+a.data[i].click_url+"&src="+a.data[i].img_url+"&desc="+a.data[i].seo_desc+"&yishou="+a.data[i].volume+"&yuanjia="+a.data[i].org_price+"&price="+a.data[i].price+"'>",t+="<img class='img-area' src='"+a.data[i].img_url+"'>",t+="<p class='title-area'>","taobao"==a.data[i].shop_type&&(t+="<i class='i_taobao'></i>"),"tmall"==a.data[i].shop_type&&(t+="<i class='i_tmall'></i>"),t+="<span class='post-free'>包邮</span>"+a.data[i].title,t+="</p>",t+="<div class='raw-price-area'>现价:￥"+a.data[i].org_price,t+="<p class='sold fr'>已售"+a.data[i].volume,t+="</div>",t+="<div class='info'>",t+="<div class='price-area'>",t+="<span class='price'>",t+="￥";var e=a.data[i].price.split(".");t+="<em class='number-font'>"+e[0]+"</em>",t+="<em class='decimal'>."+e[1]+"</em>",t+="<i></i>",t+="</span>",t+="</div>",t+="<span class='coupon-click'>券"+parseInt(a.data[i].coup_price)+"元",t+="</span></div></a></div>"}s(".zk-list").append(t)}})}),s("#moreCoupon").on("click",function(){t+=1,s.ajax({url:"http://localhost:8000/index",type:"get",dataType:"json",data:{sort:i,p:t},success:function(a){for(var t="",i=0;i<a.data.length;i++){t+=i%5==4?"<div class='zk-item' style='margin:0'>":"<div class='zk-item'>",t+="<a class='fl goods-item' href='deal/index.html?goodId="+a.data[i].goods_id+"&title="+a.data[i].title+"&href="+a.data[i].click_url+"&src="+a.data[i].img_url+"&desc="+a.data[i].seo_desc+"&yishou="+a.data[i].volume+"&yuanjia="+a.data[i].org_price+"&price="+a.data[i].price+"'>",t+="<img class='img-area' src='"+a.data[i].img_url+"'>",t+="<p class='title-area'>","taobao"==a.data[i].shop_type&&(t+="<i class='i_taobao'></i>"),"tmall"==a.data[i].shop_type&&(t+="<i class='i_tmall'></i>"),t+="<span class='post-free'>包邮</span>"+a.data[i].title,t+="</p>",t+="<div class='raw-price-area'>现价:￥"+a.data[i].org_price,t+="<p class='sold fr'>已售"+a.data[i].volume,t+="</div>",t+="<div class='info'>",t+="<div class='price-area'>",t+="<span class='price'>",t+="￥";var e=a.data[i].price.split(".");t+="<em class='number-font'>"+e[0]+"</em>",t+="<em class='decimal'>."+e[1]+"</em>",t+="<i></i>",t+="</span>",t+="</div>",t+="<span class='coupon-click'>券"+parseInt(a.data[i].coup_price)+"元",t+="</span></div></a></div>"}s(".zk-list").append(t)}})}),s(".search-btn").on("click",function(){var a="new",t=1,i=Array.from(s(".search-input"))[0].value;window.location="search/index.html?k="+i+"&sort="+a+"&p="+t}),window.location.search.split("=")[1]&&(s(".login:first").css("display","none"),s(".login:last").css("display","none"))})});