"use strict";require(["../../../static/conf/config.js"],function(){require(["jquery","sw"],function(s,a){s(".tab-area .cate-item:gt(0)").hover(function(){s(this).css("background-color","#584946")},function(){s(this).css("background-color","#fe6434"),s(".tab-area .active").css("background-color","#584946")}),s(".sort-type li:first").addClass("active"),s(".sort-type li").on("click",function(){s(this).siblings().removeClass("active"),s(this).addClass("active")}),s(document).scroll(function(){417<s(document).scrollTop()?(s(".tab-area").addClass("fixed"),s(".fluid-left").addClass("fixed")):(s(".tab-area").removeClass("fixed"),s(".fluid-left").removeClass("fixed"))});new a(".swiper-container",{loop:!0,pagination:{el:".swiper-pagination"},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}});var t=window.location.search.split("=")[1],e=1,i="new";s(function(){s.ajax({url:"http://localhost:8000/jd",type:"get",data:{cid:t,sort:i,p:e},dataType:"json",success:function(e){Array.from(s(".item")).forEach(function(a,t){s(a).children("img").attr("src",e.data[t].img_url),s(a).parent().attr("href","../deal/index.html?goodId="+e.data[t].goods_id+"&title="+e.data[t].title+"&href="+e.data[t].click_url+"&src="+e.data[t].img_url+"&desc="+e.data[t].seo_desc+"&yishou="+e.data[t].volume+"&yuanjia="+e.data[t].org_price+"&price="+e.data[t].price),s(a).children(".title").text(e.data[t].title),s(a).children(".price").text("领券后价———"+e.data[t].price)}),Array.from(s(".item1")).forEach(function(a,t){t+=7,s(a).children("img").attr("src",e.data[t].img_url),s(a).parent().attr("href","../deal/index.html?goodId="+e.data[t].goods_id+"&title="+e.data[t].title+"&href="+e.data[t].click_url+"&src="+e.data[t].img_url+"&desc="+e.data[t].seo_desc+"&yishou="+e.data[t].volume+"&yuanjia="+e.data[t].org_price+"&price="+e.data[t].price),s(a).children(".title").text(e.data[t].title),s(a).children(".price").text("领券后价———"+e.data[t].price)}),Array.from(s(".item2")).forEach(function(a,t){t+=8,s(a).children("img").attr("src",e.data[t].img_url),s(a).parent().attr("href","../deal/index.html?goodId="+e.data[t].goods_id+"&title="+e.data[t].title+"&href="+e.data[t].click_url+"&src="+e.data[t].img_url+"&desc="+e.data[t].seo_desc+"&yishou="+e.data[t].volume+"&yuanjia="+e.data[t].org_price+"&price="+e.data[t].price),s(a).children(".title").text(e.data[t].title),s(a).children(".price").text("领券后价———"+e.data[t].price)});for(var a="",t=0;t<e.data.length;t++){a+=t%5==4?"<div class='zk-item' style='margin:0'>":"<div class='zk-item'>",a+="<a class='fl goods-item' href='../deal/index.html?goodId="+e.data[t].goods_id+"&title="+e.data[t].title+"&href="+e.data[t].click_url+"&src="+e.data[t].img_url+"&desc="+e.data[t].seo_desc+"&yishou="+e.data[t].volume+"&yuanjia="+e.data[t].org_price+"&price="+e.data[t].price+"'>",a+="<img class='img-area' src='"+e.data[t].img_url+"'>",a+="<p class='title-area'>",a+="<i class='i_jd'></i>",a+="<span class='post-free'>包邮</span>"+e.data[t].title,a+="</p>",a+="<div class='raw-price-area'>现价:￥"+e.data[t].org_price,a+="<p class='sold fr'>已售"+e.data[t].volume,a+="</div>",a+="<div class='info'>",a+="<div class='price-area'>",a+="<span class='price'>",a+="￥";var i=e.data[t].price.split(".");a+="<em class='number-font'>"+i[0]+"</em>",a+="<em class='decimal'>."+i[1]+"</em>",a+="<i></i>",a+="</span>",a+="</div>",a+="<span class='coupon-click'>券"+parseInt(e.data[t].coup_price)+"元",a+="</span></div></a></div>"}s(".zk-list").append(a)}})}),s("#moreCoupon").on("click",function(){e+=1,s(function(){s.ajax({url:"http://localhost:8000/jd",type:"get",data:{cid:t,sort:i,p:e},dataType:"json",success:function(a){for(var t="",e=0;e<a.data.length;e++){t+=e%5==4?"<div class='zk-item' style='margin:0'>":"<div class='zk-item'>",t+="<a class='fl goods-item' href='../deal/index.html?goodId="+a.data[e].goods_id+"&title="+a.data[e].title+"&href="+a.data[e].click_url+"&src="+a.data[e].img_url+"&desc="+a.data[e].seo_desc+"&yishou="+a.data[e].volume+"&yuanjia="+a.data[e].org_price+"&price="+a.data[e].price+"'>",t+="<img class='img-area' src='"+a.data[e].img_url+"'>",t+="<p class='title-area'>",t+="<i class='i_jd'></i>",t+="<span class='post-free'>包邮</span>"+a.data[e].title,t+="</p>",t+="<div class='raw-price-area'>现价:￥"+a.data[e].org_price,t+="<p class='sold fr'>已售"+a.data[e].volume,t+="</div>",t+="<div class='info'>",t+="<div class='price-area'>",t+="<span class='price'>",t+="￥";var i=a.data[e].price.split(".");t+="<em class='number-font'>"+i[0]+"</em>",t+="<em class='decimal'>."+i[1]+"</em>",t+="<i></i>",t+="</span>",t+="</div>",t+="<span class='coupon-click'>券"+parseInt(a.data[e].coup_price)+"元",t+="</span></div></a></div>"}s(".zk-list").append(t)}})})}),s(".sort-type li").on("click",function(){Array.from(s(".sort-type").children()).forEach(function(a){s(a).hasClass("active")&&(i=s(a).attr("data-sort"))}),s(".zk-list").children().remove(),s.ajax({url:"http://localhost:8000/jd",type:"get",dataType:"json",data:{cid:t,sort:i,p:e},success:function(a){for(var t="",e=0;e<a.data.length;e++){t+=e%5==4?"<div class='zk-item' style='margin:0'>":"<div class='zk-item'>",t+="<a class='fl goods-item' href='../deal/index.html?goodId="+a.data[e].goods_id+"&title="+a.data[e].title+"&href="+a.data[e].click_url+"&src="+a.data[e].img_url+"&desc="+a.data[e].seo_desc+"&yishou="+a.data[e].volume+"&yuanjia="+a.data[e].org_price+"&price="+a.data[e].price+"'>",t+="<img class='img-area' src='"+a.data[e].img_url+"'>",t+="<p class='title-area'>",t+="<i class='i_jd'></i>",t+="<span class='post-free'>包邮</span>"+a.data[e].title,t+="</p>",t+="<div class='raw-price-area'>现价:￥"+a.data[e].org_price,t+="<p class='sold fr'>已售"+a.data[e].volume,t+="</div>",t+="<div class='info'>",t+="<div class='price-area'>",t+="<span class='price'>",t+="￥";var i=a.data[e].price.split(".");t+="<em class='number-font'>"+i[0]+"</em>",t+="<em class='decimal'>"+i[1]+"</em>",t+="<i></i>",t+="</span>",t+="</div>",t+="<span class='coupon-click'>券"+parseInt(a.data[e].coup_price)+"元",t+="</span></div></a></div>"}s(".zk-list").append(t)}})}),s(".search-btn").on("click",function(){var t={sort:"new",p:1,k:Array.from(s(".search-input"))[0].value};s.ajax({url:"http://localhost:8000/search",type:"get",dataType:"json",data:t,success:function(a){window.location="search/index.html?k="+t.k+"&sort="+t.sort+"&p="+t.p}})}),s(".search-btn").on("click",function(){var a="new",t=1,e=Array.from(s(".search-input"))[0].value;window.location="../search/index.html?k="+e+"&sort="+a+"&p="+t})})});